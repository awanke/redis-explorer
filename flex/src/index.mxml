<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009"
			   xmlns:s="library://ns.adobe.com/flex/spark"
			   xmlns:mx="library://ns.adobe.com/flex/mx"
			   xmlns:local="*"
			   xmlns:view="com.izerui.view.*"
			   minWidth="955" minHeight="600">
	<s:layout>
		<s:VerticalLayout paddingBottom="6" paddingLeft="6" paddingRight="6"/>
	</s:layout>
	<fx:Style>
		@namespace s "library://ns.adobe.com/flex/spark";
		@namespace mx "library://ns.adobe.com/flex/mx";
		@namespace local "*";
		@namespace view "com.izerui.view.*";
		s|Application{
			fontSize:12;
		}
	</fx:Style>
	<fx:Declarations>
		<local:Services/>
		<local:Controller/>
		<!-- 将非可视元素（例如服务、值对象）放在此处 -->
	</fx:Declarations>
	
	<fx:Script><![CDATA[
		import com.adobe.cairngorm.control.CairngormEventDispatcher;
		import com.izerui.event.GetKeysEvent;
		import com.izerui.support.event.DbItemSelectEvent;
		import com.izerui.vo.RedisServerConfig;
		
		import mx.collections.ArrayCollection;
		
		[Bindable]
		public var server:RedisServerConfig;
		
		private function redisTree1_dbItemSelectEventHandler(event:DbItemSelectEvent):void{
			server = event.selItem;
			CairngormEventDispatcher.getInstance().dispatchEvent(new GetKeysEvent(event.selItem,function(data:ArrayCollection):void{
				mainGrid.currentState = "listState";
				mainGrid.keyList= data;
			}));
			
		}
	]]>
	</fx:Script>
	
	<s:Group width="100%" height="80">
		<mx:Image source="@Embed(source='images/redis-logo-small.png')"></mx:Image>
	</s:Group>
	
	<mx:HDividedBox width="100%" height="100%">
		<view:RedisTree width="200" height="100%"
						dbItemSelectEvent="redisTree1_dbItemSelectEventHandler(event)"/>
		

			<s:Panel width="100%" height="100%" title="redis数据浏览器">
					<view:RedisMain id="mainGrid" width="100%" height="100%">
						
					</view:RedisMain>
			</s:Panel>

	</mx:HDividedBox>
	<s:HGroup width="100%"  horizontalAlign="center">
		<s:Label text="Copyright © 2014-2015 power by 刘玉华"/>
	</s:HGroup>
	
</s:Application>
